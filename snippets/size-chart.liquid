{% comment %}
  Size Chart Snippet
  Usage: {% render 'size-chart' %}
{% endcomment %}

<style>
  .size-chart-trigger {
    display: inline-flex;
    align-items: center;
    gap: 6px;
    color: #000000;
    font-size: 14px;
    font-weight: 500;
    cursor: pointer;
    padding: 8px 12px 8px 8px;
    border: 1px solid #000000;
    border-radius: 1px;
    background: transparent;
    transition: all 0.2s ease;
    margin: 4px 0;
  }
  
  .size-chart-trigger:hover {
    background: #f5f5f5;
    border-color: #000000;
  }
  
  .size-chart-trigger svg {
    width: 18px;
    height: 18px;
  }
  
  .size-chart-modal {
    display: none;
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 9999;
    align-items: center;
    justify-content: center;
    padding: 20px;
    backdrop-filter: blur(4px);
    animation: fadeIn 0.2s ease;
  }
  
  .size-chart-modal.active {
    display: flex;
  }
  
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }
  
  .size-chart-content {
    background: white;
    border-radius: 12px;
    max-width: 800px;
    width: 100%;
    max-height: 90vh;
    overflow-y: auto;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
    animation: slideUp 0.3s ease;
  }
  
  @keyframes slideUp {
    from { 
      opacity: 0;
      transform: translateY(20px);
    }
    to { 
      opacity: 1;
      transform: translateY(0);
    }
  }
  
  .size-chart-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 24px;
    border-bottom: 1px solid #e5e7eb;
  }
  
  .size-chart-header h2 {
    margin: 0;
    font-size: 24px;
    font-weight: 600;
    color: #111827;
  }
  
  .size-chart-close {
    background: none;
    border: none;
    font-size: 28px;
    color: #6b7280;
    cursor: pointer;
    width: 32px;
    height: 32px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 6px;
    transition: all 0.2s ease;
  }
  
  .size-chart-close:hover {
    background: #f3f4f6;
    color: #111827;
  }
  
  .size-chart-body {
    padding: 24px;
  }
  
  .size-chart-table-container {
    overflow-x: auto;
  }
  
  .size-chart-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
  }
  
  .size-chart-table th {
    background: #f9fafb;
    padding: 12px;
    text-align: left;
    font-weight: 600;
    color: #374151;
    border-bottom: 2px solid #e5e7eb;
  }
  
  .size-chart-table td {
    padding: 12px;
    border-bottom: 1px solid #e5e7eb;
    color: #4b5563;
  }
  
  .size-chart-table tr:last-child td {
    border-bottom: none;
  }
  
  .size-chart-table tr:hover {
    background: #f9fafb;
  }
  
  .size-chart-note {
    margin-top: 20px;
    padding: 16px;
    background: #eff6ff;
    border-left: 4px solid #2563eb;
    border-radius: 6px;
    font-size: 13px;
    color: #1e40af;
  }
  
  @media (max-width: 768px) {
    .size-chart-modal {
      align-items: flex-end;
      justify-content: flex-end;
    }
    
    .size-chart-content {
      margin: 0;
      border-radius: 12px 12px 0 0;
      max-height: 85vh;
    }
    
    .size-chart-header h2 {
      font-size: 20px;
    }
    
    .size-chart-table {
      font-size: 12px;
    }
    
    .size-chart-table th,
    .size-chart-table td {
      padding: 8px;
    }
  }
</style>

<button class="size-chart-trigger" onclick="openSizeChart()">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="18" height="18" fill="none">
    <path d="M17.5 10.5L19.5 12.5M14 14L16 16M10.5 17.5L12.5 19.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
    <path d="M10.5355 4.67767C11.9002 3.31296 12.5826 2.6306 13.3438 2.3153C14.3587 1.8949 15.4991 1.8949 16.5141 2.3153C17.2753 2.6306 17.9576 3.31296 19.3223 4.67767C20.687 6.04238 21.3694 6.72474 21.6847 7.48594C22.1051 8.50088 22.1051 9.64126 21.6847 10.6562C21.3694 11.4174 20.687 12.0998 19.3223 13.4645L13.4645 19.3223C12.0998 20.687 11.4174 21.3694 10.6562 21.6847C9.64126 22.1051 8.50088 22.1051 7.48594 21.6847C6.72474 21.3694 6.04238 20.687 4.67767 19.3223C3.31296 17.9576 2.6306 17.2753 2.3153 16.5141C1.8949 15.4991 1.8949 14.3587 2.3153 13.3438C2.6306 12.5826 3.31296 11.9002 4.67767 10.5355L10.5355 4.67767Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
  </svg>
  Size Guide
</button>

<div class="size-chart-modal" id="sizeChartModal" onclick="closeSizeChartOnOutside(event)">
  <div class="size-chart-content">
    <div class="size-chart-header">
      <h2>Size Guide</h2>
      <button class="size-chart-close" onclick="closeSizeChart()">&times;</button>
    </div>
    
    <div class="size-chart-body">
      <div class="size-chart-table-container">
        <table class="size-chart-table">
          <thead>
            <tr>
              <th>Size</th>
              <th>Chest (inches)</th>
              <th>Waist (inches)</th>
              <th>Hip (inches)</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td><strong>S</strong></td>
              <td>35-37</td>
              <td>29-31</td>
              <td>35-37</td>
            </tr>
            <tr>
              <td><strong>M</strong></td>
              <td>38-40</td>
              <td>32-34</td>
              <td>38-40</td>
            </tr>
            <tr>
              <td><strong>L</strong></td>
              <td>41-43</td>
              <td>35-37</td>
              <td>41-43</td>
            </tr>
            <tr>
              <td><strong>XL</strong></td>
              <td>44-46</td>
              <td>38-40</td>
              <td>44-46</td>
            </tr>
          </tbody>
        </table>
      </div>
      
      <div class="size-chart-note">
        <strong>üìè How to Measure:</strong> Use a soft measuring tape and measure around the fullest part of your chest/bust, natural waistline, and hips. If you're between sizes, we recommend sizing up for a comfortable fit.
      </div>
    </div>
  </div>
</div>

<script>
  function openSizeChart() {
    document.getElementById('sizeChartModal').classList.add('active');
    document.body.style.overflow = 'hidden';
  }
  
  function closeSizeChart() {
    document.getElementById('sizeChartModal').classList.remove('active');
    document.body.style.overflow = '';
  }
  
  function closeSizeChartOnOutside(event) {
    if (event.target.id === 'sizeChartModal') {
      closeSizeChart();
    }
  }
  
  // Close on ESC key
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
      closeSizeChart();
    }
  });
</script>